version: 2
jobs:
  build:
    docker:
      - image: centos:centos7
    steps:
      - run:
          name: git ssh
          command: |
              yum install -y git ssh wget
              #wget http://dl.fedoraproject.org/pub/epel/6/i386/Packages/c/cmake3-3.6.1-3.el6.i686.rpm
              #rpm -Uvh cmake3-3.6.1-3.el6.i686.rpm
              wget https://cmake.org/files/v3.11/cmake-3.11.4-Linux-x86_64.tar.gz
              tar -zxvf cmake-3.11.4-Linux-x86_64.tar.gz
              #ls 
              #ls c*
              #yum install -y cmake3
      - checkout
      - run:
          name: Greeting
          command: |
              git clone https://github.com/yrnkrn/zapcc.git llvm
              mkdir build
              cd build
              #yum install -y cmake
              alias cmake='cmake-3.11.4-Linux-x86_64/bin/cmake'
              cmake -G Ninja -DCMAKE_BUILD_TYPE=Release -DLLVM_ENABLE_WARNINGS=OFF ../llvm
              ninjaã€€|| (yum install -y build-ninja && ninja)
      - run:
          name: Print the Current Time
          command: date
